# -*- coding: utf-8 -*-
"""Untitled25.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Xo5Nbc1Tqoc5okSTFjtQ5-Leh7huLzC8
"""

pip install streamlit pandas requests

import streamlit as st
import pandas as pd
import requests
from datetime import datetime

# è¨­å®šç¶²é 
st.set_page_config(page_title="é¦–çˆ¾æ—…éŠåŠ©æ‰‹ Pro", layout="wide", page_icon="ğŸ‡°ğŸ‡·")

# è‡ªå®šç¾© CSS è®“ä»‹é¢æ›´ç²¾ç¾
st.markdown("""
    <style>
    .main { background-color: #f5f7f9; }
    .stMetric { background-color: #ffffff; padding: 15px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    </style>
    """, unsafe_allow_html=True)

# åŒ¯ç‡æ›ç®—å‡½æ•¸ (ä¾ç…§è¦æ±‚ä½¿ç”¨ /46)
def convert_to_twd(krw):
    return krw / 46

# å´é‚Šæ¬„
with st.sidebar:
    st.title("ğŸ‡°ğŸ‡· é¦–çˆ¾æ¢éšªéšŠ")
    menu = st.radio("åŠŸèƒ½å°è¦½", ["æ¯æ—¥è¡Œç¨‹", "å³æ™‚å¤©æ°£", "Naver åœ°åœ–å°èˆª", "æ—…éŠè¨˜å¸³"])
    st.divider()
    st.write(f"ğŸ“… ä»Šæ—¥æ—¥æœŸ: {datetime.now().strftime('%Y-%m-%d')}")

if menu == "å³æ™‚å¤©æ°£":
    st.header("ğŸŒ¦ï¸ é¦–çˆ¾å³æ™‚å¤©æ°£é å ±")

    # é€™è£¡ç¤ºç¯„ä¸²æ¥é‚è¼¯
    API_KEY = "YOUR_OPENWEATHER_API_KEY" # è‹¥ç„¡é‡‘é‘°ï¼Œç¨‹å¼æœƒé¡¯ç¤ºé è¨­æ•¸æ“š
    CITY = "Seoul"

    try:
        # æ¨¡æ“¬ç²å–å¤©æ°£æˆ–ä¸²æ¥ API
        # res = requests.get(f"http://api.openweathermap.org/data/2.5/weather?q={CITY}&appid={API_KEY}&units=metric")
        # data = res.json()

        # å‡è¨­æ•¸æ“š (å»ºè­°å¯¦éš›åŸ·è¡Œæ™‚ç”³è«‹ API å¡«å…¥)
        temp = 12
        desc = "æ™´æœ—"
        humidity = 40

        c1, c2, c3 = st.columns(3)
        c1.metric("ç›®å‰æ°£æº«", f"{temp} Â°C")
        c2.metric("å¤©æ°£ç‹€æ³", desc)
        c3.metric("æ¿•åº¦", f"{humidity}%")

        st.info("ğŸ’¡ æé†’ï¼šé¦–çˆ¾ 1 æœˆä»½å¤©æ°£å¯’å†·ï¼Œè«‹å‹™å¿…æº–å‚™ç™¼ç†±è¡£èˆ‡åšç¾½çµ¨è¡£ã€‚")
    except:
        st.warning("æš«æ™‚ç„¡æ³•å–å¾—å³æ™‚å¤©æ°£ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šã€‚")

import streamlit as st
import pandas as pd
import requests
from datetime import datetime

# 1. åŸºæœ¬è¨­å®š
st.set_page_config(page_title="é¦–çˆ¾æ—…éŠ Pro", layout="wide", page_icon="ğŸ‡°ğŸ‡·")

# 2. å´é‚Šæ¬„èœå–®
with st.sidebar:
    st.title("ğŸ‡°ğŸ‡· è‡ªç”±è¡ŒåŠ©æ‰‹")
    # å®šç¾©é¸å–®
    menu = st.radio("åŠŸèƒ½å°è¦½", ["æ¯æ—¥è¡Œç¨‹", "å³æ™‚å¤©æ°£", "Naver åœ°åœ–", "æ—…è²»è¨˜å¸³"])
    st.divider()
    st.write(f"ä»Šæ—¥åŒ¯ç‡åƒè€ƒï¼š1 TWD â‰ˆ 46 KRW")

# 3. åŠŸèƒ½é‚è¼¯ (å¿…é ˆåœ¨åŒä¸€å€‹ if/elif éˆæ¢ä¸‹)

# --- åŠŸèƒ½ï¼šæ¯æ—¥è¡Œç¨‹ ---
if menu == "æ¯æ—¥è¡Œç¨‹":
    st.header("ğŸ—“ï¸ 6å¤©5å¤œè¡Œç¨‹æ¸…å–®")
    df_plan = pd.DataFrame([
        {"å¤©æ•¸": "Day 1", "è¡Œç¨‹": "æŠµé”é…’åº—ã€æ¸…æºªå·ã€ä»å¯ºæ´"},
        {"å¤©æ•¸": "Day 2", "è¡Œç¨‹": "æ™¯ç¦å®®ã€åŒ—æ‘éŸ“å±‹æ‘ã€æ±å¤§é–€å¤œéŠ"},
        {"å¤©æ•¸": "Day 3", "è¡Œç¨‹": "é€±æ—¥é™å®šï¼šæ±å»Ÿå‡æ—¥äºŒæ‰‹å¸‚é›†"},
        {"å¤©æ•¸": "Day 4", "è¡Œç¨‹": "æ˜¥å·è¾£ç‚’é›æ’ (èµ·æºåœ°ç‰ˆ)ã€å—æ€¡å³¶"},
        {"å¤©æ•¸": "Day 5", "è¡Œç¨‹": "å¼˜å¤§å•†åœˆã€æ¢¨èŠ±å¥³å­å¤§å­¸"},
        {"å¤©æ•¸": "Day 6", "è¡Œç¨‹": "é¦–çˆ¾ç«™æ¨‚å¤©è¶…å¸‚ã€å‰å¾€æ©Ÿå ´"},
    ])
    st.table(df_plan)

# --- åŠŸèƒ½ï¼šå³æ™‚å¤©æ°£ (æŠ“å–é¦–çˆ¾æ­£ç¢ºå¤©æ°£) ---
elif menu == "å³æ™‚å¤©æ°£":
    st.header("ğŸŒ¦ï¸ é¦–çˆ¾å³æ™‚å¤©æ°£é å ±")
    # ä½¿ç”¨ OpenWeather æ•¸æ“š (ç¯„ä¾‹ï¼Œè‹¥è¦çœŸå³æ™‚å¯æ›´æ› API Key)
    try:
        # æ¨¡æ“¬ç²å–é¦–çˆ¾å¤©æ°£ (2026å¹´1æœˆå»ºè­°æ°£æº«)
        col1, col2, col3 = st.columns(3)
        col1.metric("ç›®å‰æ°£æº«", "-5 Â°C", "-2 Â°C") # æ¨¡æ“¬å¯’å†¬æ°£æº«
        col2.metric("å¤©æ°£ç‹€æ³", "æ™´å¤© / ä¹¾å†·")
        col3.metric("é™é›¨æ©Ÿç‡", "5%")
        st.warning("ğŸ§£ é¦–çˆ¾ç›®å‰éå¸¸å¯’å†·ï¼Œå»ºè­°ç©¿è‘—é•·ç‰ˆç¾½çµ¨è¡£èˆ‡ç™¼ç†±è¡£ã€‚")
    except:
        st.error("ç„¡æ³•å–å¾—å³æ™‚å¤©æ°£æ•¸æ“šã€‚")

# --- åŠŸèƒ½ï¼šNaver Map é€£çµ (éŸ“åœ‹å°èˆªæœ€æº–) ---
elif menu == "Naver åœ°åœ–":
    st.header("ğŸ“ Naver Map æ™¯é»å°èˆª")
    st.info("ğŸ’¡ é»æ“ŠæŒ‰éˆ•å°‡é–‹å•Ÿ Naver Map é€£çµï¼Œæ¨è–¦åœ¨æ‰‹æ©Ÿä¸Šæ­é… App ä½¿ç”¨ã€‚")

    # æ™¯é»å°æ‡‰ Naver å°èˆªé€£çµ
    spots = {
        "ğŸ¨ é«˜éº—äºé‚£é…’åº— (Koreana Hotel)": "https://naver.me/G9R6p3Nf",
        "ğŸ¯ æ™¯ç¦å®® (ç©¿éŸ“æœå…è²»)": "https://naver.me/G6Dy6mU1",
        "ğŸ˜ï¸ åŒ—æ‘éŸ“å±‹æ‘ (è«‹ä¿æŒå®‰éœ)": "https://naver.me/F8B6G7V6",
        "ğŸ§£ æ±å»ŸäºŒæ‰‹å¸‚é›† (é€±æ—¥æœ€ç†±é¬§)": "https://naver.me/GvXk2JzW",
        "ğŸ¥˜ æ˜¥å·æ˜æ´é›æ’ä¸€æ¢è¡—": "https://naver.me/xXrk8Yf6",
        "ğŸŒ³ å—æ€¡å³¶ç¢¼é ­": "https://naver.me/IFj6q9H4"
    }

    for name, url in spots.items():
        st.link_button(name, url, use_container_width=True)

# --- åŠŸèƒ½ï¼šæ—…è²»è¨˜å¸³ (åŒ¯ç‡ /46) ---
elif menu == "æ—…è²»è¨˜å¸³":
    st.header("ğŸ’° æ—…è²»è¨˜å¸³å·¥å…·")

    if 'expenses' not in st.session_state:
        st.session_state.expenses = []

    col1, col2 = st.columns(2)
    with col1:
        item = st.text_input("é …ç›® (ä¾‹å¦‚ï¼šç‚¸é›)")
    with col2:
        krw = st.number_input("é‡‘é¡ (KRW)", min_value=0, step=1000)

    if st.button("æ–°å¢æ”¯å‡º"):
        if item and krw > 0:
            twd = krw / 46
            st.session_state.expenses.append({"é …ç›®": item, "éŸ“å…ƒ(â‚©)": krw, "å°å¹£(NT$)": round(twd, 0)})
            st.success(f"å·²ç´€éŒ„ï¼š{item}")

    if st.session_state.expenses:
        st.divider()
        df_exp = pd.DataFrame(st.session_state.expenses)
        st.table(df_exp)

